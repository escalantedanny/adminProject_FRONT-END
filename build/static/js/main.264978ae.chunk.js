(this.webpackJsonpcliente=this.webpackJsonpcliente||[]).push([[0],{39:function(e,a,t){e.exports=t(70)},44:function(e,a,t){},70:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(15),c=t.n(o),l=(t(44),t(13)),i=t(11),s=t(9),m=t(1),u=t(3),d=function(){var e=Object(r.useState)({email:"",password:""}),a=Object(u.a)(e,2),t=a[0],o=a[1],c=t.email,i=t.password,d=function(e){o(Object(m.a)({},t,Object(s.a)({},e.target.name,e.target.value)))};return n.a.createElement("div",{className:"form-usuario"},n.a.createElement("div",{className:"contenedor-form sombra-dark"},n.a.createElement("h1",null,"Iniciar Sesi\xf3n"),n.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log(e)}},n.a.createElement("div",{className:"campo-form"},n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement("input",{type:"email",id:"email",name:"email",value:c,placeholder:"Tu Email",onChange:d})),n.a.createElement("div",{className:"campo-form"},n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{type:"password",id:"password",name:"password",value:i,placeholder:"Tu Password",onChange:d})),n.a.createElement("div",{className:"campo-form"},n.a.createElement("input",{type:"submit",className:"btn btn-primario btn-block",name:"iniciar",id:"iniciar",value:"Iniciar Sessi\xf3n"}))),n.a.createElement(l.b,{to:"/nueva-cuenta",className:"enlace-cuenta"},"Registrarme")))},p=Object(r.createContext)(),E=Object(r.createContext)(),b=function(e){var a=Object(r.useContext)(p),t=a.alerta,o=a.mostrarAlerta,c=Object(r.useContext)(E),i=c.mensaje,d=c.autenticado,b=c.registrarUsuario;Object(r.useEffect)((function(){d&&e.history.push("/proyectos"),i&&o(i.msg,i.categoria)}),[i,d,e.history]);var f=Object(r.useState)({nombre:"",email:"",password:"",confirmar:""}),y=Object(u.a)(f,2),O=y[0],v=y[1],R=O.nombre,T=O.email,A=O.password,g=O.confirmar,j=function(e){v(Object(m.a)({},O,Object(s.a)({},e.target.name,e.target.value)))};return n.a.createElement("div",{className:"form-usuario"},t?n.a.createElement("div",{className:"alerta ".concat(t.categoria)},t.msg):null,n.a.createElement("div",{className:"contenedor-form sombra-dark"},n.a.createElement("h1",null,"Registro de Usuario"),n.a.createElement("form",{onSubmit:function(e){e.preventDefault(),""!==R.trim()&&""!==T.trim()&&""!==A.trim()&&""!==g.trim()?A.length<6||g.length<6?o("El password debe tener minimo 6 caracteres","alerta-error"):A===g?b({nombre:R,email:T,password:A}):o("La contrase\xf1a y la confirmacion deben ser iguales","alerta-error"):o("Todos los campos son obligatorios","alerta-error")}},n.a.createElement("div",{className:"campo-form"},n.a.createElement("label",{htmlFor:"nombre"},"Nombre"),n.a.createElement("input",{type:"text",id:"nombre",name:"nombre",value:R,placeholder:"Tu Nombre",onChange:j})),n.a.createElement("div",{className:"campo-form"},n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement("input",{type:"email",id:"email",name:"email",value:T,placeholder:"Tu Email",onChange:j})),n.a.createElement("div",{className:"campo-form"},n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{type:"password",id:"password",name:"password",value:A,placeholder:"Tu Password",onChange:j})),n.a.createElement("div",{className:"campo-form"},n.a.createElement("label",{htmlFor:"confirmar"},"Repetir Password"),n.a.createElement("input",{type:"password",id:"confirmar",name:"confirmar",value:g,placeholder:"Repetir Password",onChange:j})),n.a.createElement("div",{className:"campo-form"},n.a.createElement("input",{type:"submit",className:"btn btn-primario btn-block",name:"iniciar",id:"iniciar",value:"Registrarme"}))),n.a.createElement(l.b,{to:"/",className:"enlace-cuenta"},"Volver a Iniciar Sessi\xf3n")))},f=Object(r.createContext)(),y=function(){var e=Object(r.useContext)(f),a=e.formulario,t=e.errorformulario,o=e.mostrarFormulario,c=e.agregarProyecto,l=e.mostrarError,i=Object(r.useState)({nombre:""}),d=Object(u.a)(i,2),p=d[0],E=d[1],b=p.nombre;return n.a.createElement(r.Fragment,null,n.a.createElement("button",{value:"button",className:"btn btn-block btn-primario",onClick:function(){o()}},"Nuevo Proyecto"),a?n.a.createElement("form",{className:"formulario-nuevo-proyecto",onSubmit:function(e){e.preventDefault(),""!==b?(c(p),E({nombre:""})):l()}},n.a.createElement("input",{type:"text",className:"input-text",placeholder:"Nombre del Proyecto",name:"nombre",value:b,onChange:function(e){E(Object(m.a)({},p,Object(s.a)({},e.target.name,e.target.value)))}}),n.a.createElement("input",{type:"submit",className:"btn btn-primario btn-block",value:"Agregar Proyecto"})):null,t?n.a.createElement("p",{className:"mensaje error"},"El Nombre del Proyecto debe ser Obligatorio"):null)},O=Object(r.createContext)(),v=function(e){var a=e.proyecto,t=Object(r.useContext)(f).mostrarProyecto,o=Object(r.useContext)(O).obtenerTareas;return n.a.createElement("li",null,n.a.createElement("button",{type:"button",className:"btn btn-blank",onClick:function(){return e=a.id,t(e),void o(e);var e}},a.nombre))},R=t(72),T=t(71),A=function(){var e=Object(r.useContext)(f),a=e.proyectos,t=e.obtenerProyectos;return Object(r.useEffect)((function(){t()}),[]),0===a.length?n.a.createElement("h2",null,"No Tienes Proyectos"):n.a.createElement("ul",{className:"listado-proyectos"},n.a.createElement(R.a,null,a.map((function(e){return n.a.createElement(T.a,{key:e.id,timeout:200,classNames:"proyecto"},n.a.createElement(v,{proyecto:e}))}))))},g=function(){return n.a.createElement("aside",null,n.a.createElement("h1",null,"TICKET ",n.a.createElement("span",null,"soft")),n.a.createElement("div",null,n.a.createElement("hr",null)),n.a.createElement(y,null),n.a.createElement("div",{className:"proyectos"},n.a.createElement("h1",null,n.a.createElement("a",{href:"/proyectos"},"Listado de Aplicaciones")),n.a.createElement(A,null)))},j=function(){return n.a.createElement("header",{className:"app-header"},n.a.createElement("p",{className:"nombre-usuario"},"Hola ",n.a.createElement("span",null,"Danny")),n.a.createElement("nav",{className:"nav-principal"},n.a.createElement("a",{href:"#!"},"Cerrar Sessi\xf3n")))},h=function(){var e=Object(r.useContext)(f).proyecto,a=Object(r.useContext)(O),t=a.tareaSeleccionada,o=a.errorTarea,c=a.agregarTarea,l=a.validarTarea,i=a.obtenerTareas,d=a.actualizarTarea;Object(r.useEffect)((function(){y(null!==t?t:{nombre:""})}),[t]);var p=Object(r.useState)({nombre:""}),E=Object(u.a)(p,2),b=E[0],y=E[1],v=b.nombre;if(!e)return null;var R=Object(u.a)(e,1)[0];return n.a.createElement("div",{className:"formulario"},n.a.createElement("form",{onSubmit:function(e){e.preventDefault(),""!==v.trim()?(null===t?(b.proyectoId=R.id,b.estado=!1,c(b)):d(b),i(R.id),y({nombre:""})):l()}},n.a.createElement("div",{className:"contenedor-input"},n.a.createElement("input",{type:"text",className:"input-text",placeholder:"Nombre tarea",name:"nombre",onChange:function(e){y(Object(m.a)({},b,Object(s.a)({},e.target.name,e.target.value)))},value:v})),n.a.createElement("div",{className:"contenedor-input"},n.a.createElement("input",{type:"submit",className:"btn btn-primario btn-block",value:t?"Editar Tarea":"Guardar Tarea"}))),o?n.a.createElement("p",{className:"mensaje error"},"El nombre de la Tarea es Obligatorio"):null)},N=function(e){var a=e.tarea,t=Object(r.useContext)(O),o=t.eliminarTarea,c=t.obtenerTareas,l=t.cambiarEstadoTarea,i=t.guardarTareaActual,s=Object(r.useContext)(f).proyecto,m=Object(u.a)(s,1)[0],d=function(e){e.estado?e.estado=!1:e.estado=!0,l(e)};return n.a.createElement("li",{className:"tarea sombra"},n.a.createElement("p",null,a.nombre),n.a.createElement("div",{className:"estado"},a.estado?n.a.createElement("button",{type:"button",className:"completo",onClick:function(){return d(a)}},"Completo"):n.a.createElement("button",{type:"button",className:"incompleto",onClick:function(){return d(a)}},"Incompleto")),n.a.createElement("div",{className:"acciones"},n.a.createElement("button",{type:"button",className:"btn btn-primario",onClick:function(){return function(e){i(e)}(a)}},"Editar"),n.a.createElement("button",{type:"button",className:"btn btn-secundario",onClick:function(){return e=a.id,void(window.confirm("Estas Seguro de eliminar ".concat(a.nombre,"?"))&&(o(e),c(m.id)));var e}},"Eliminar")))},C=function(){var e=Object(r.useContext)(f),a=e.proyecto,t=e.eliminaUnProyecto,o=Object(r.useContext)(O).tareasProyecto;if(!a)return n.a.createElement("h2",null,"Selecciona un Proyecto");var c=Object(u.a)(a,1)[0];return n.a.createElement(r.Fragment,null,n.a.createElement("h2",null,"Proyecto: ",c.nombre),n.a.createElement("ul",{className:"listado-tareas"},0===o.length?n.a.createElement("li",{className:"tarea"},n.a.createElement("p",null,"No hay tareas Asignadas")):n.a.createElement(R.a,null,o.map((function(e){return n.a.createElement(T.a,{key:e.id,timeout:200,classNames:"tarea"},n.a.createElement(N,{tarea:e}))})))),n.a.createElement("button",{type:"button",className:"btn btn-eliminar",onClick:function(){window.confirm("Estas Seguro de eliminar ".concat(c.nombre,"?"))&&t(c.id)}},"Eliminar Proyecto"))},_=function(){return n.a.createElement("div",{className:"contenedor-app"},n.a.createElement(g,null),n.a.createElement("div",{className:"seccion-principal"},n.a.createElement(j,null),n.a.createElement("main",null,n.a.createElement(h,null),n.a.createElement("div",{className:"contenedor-tareas"},n.a.createElement(C,null)))))},P=t(16),S=t.n(P),I=t(17),w=function(e,a){switch(a.type){case"FORMULARIO_PROYECTO":return Object(m.a)({},e,{formulario:!0});case"OBTENER_PROYECTOS":return Object(m.a)({},e,{proyectos:a.payload});case"AGREGAR_PROYECTO":return Object(m.a)({},e,{proyectos:[].concat(Object(I.a)(e.proyectos),[a.payload]),formulario:!1,errorformulario:!1});case"VALIDAR_FORMULARIO":return Object(m.a)({},e,{errorformulario:!0});case"PROYECTO_ACTUAL":return Object(m.a)({},e,{proyecto:e.proyectos.filter((function(e){return e.id===a.payload}))});case"ELIMINAR_PROYECTO":return Object(m.a)({},e,{proyectos:e.proyectos.filter((function(e){return e.id!==a.payload})),proyecto:null});default:return e}},k=function(e){var a=[{id:1,nombre:"Tienda Virtual"},{id:2,nombre:"Academia de Desarrollo"},{id:3,nombre:"Dise\xf1o de Sitios Web"},{id:4,nombre:"Venta de Hosting"},{id:5,nombre:"Intranet"}],t=Object(r.useReducer)(w,{proyectos:[],formulario:!1,errorformulario:!1,proyecto:null}),o=Object(u.a)(t,2),c=o[0],l=o[1];return n.a.createElement(f.Provider,{value:{proyectos:c.proyectos,formulario:c.formulario,errorformulario:c.errorformulario,proyecto:c.proyecto,mostrarFormulario:function(){l({type:"FORMULARIO_PROYECTO"})},obtenerProyectos:function(){l({type:"OBTENER_PROYECTOS",payload:a})},agregarProyecto:function(e){e.id=S.a.v4(),l({type:"AGREGAR_PROYECTO",payload:e})},mostrarError:function(){l({type:"VALIDAR_FORMULARIO"})},mostrarProyecto:function(e){l({type:"PROYECTO_ACTUAL",payload:e})},eliminaUnProyecto:function(e){l({type:"ELIMINAR_PROYECTO",payload:e})}}},e.children)},L=function(e,a){switch(a.type){case"TAREAS_PROYECTO":return Object(m.a)({},e,{tareasProyecto:e.tareas.filter((function(e){return e.proyectoId===a.payload}))});case"AGREGAR_TAREA":return Object(m.a)({},e,{tareas:[a.payload].concat(Object(I.a)(e.tareas)),errorTarea:!1});case"VALIDAR_TAREA":return Object(m.a)({},e,{errorTarea:!0});case"ELIMINAR_TAREA":return Object(m.a)({},e,{tareas:e.tareas.filter((function(e){return e.id!==a.payload}))});case"ACTUALIZAR_TAREA":case"ESTADO_TAREA":return Object(m.a)({},e,{tareas:e.tareas.map((function(e){return e.id===a.payload.id?a.payload:e})),tareaSeleccionada:null});case"TAREA_ACTUAL":return Object(m.a)({},e,{tareaSeleccionada:a.payload});default:return e}},x=function(e){var a=Object(r.useReducer)(L,{tareas:[{id:1,nombre:"Elegir vender",estado:!0,proyectoId:1},{id:2,nombre:"Elegir Comprar",estado:!1,proyectoId:2},{id:3,nombre:"Elegir Arrendar",estado:!0,proyectoId:3},{id:4,nombre:"Elegir Varios en medulo de trabajador",estado:!1,proyectoId:4},{id:5,nombre:"Elegir Hosting falso",estado:!1,proyectoId:1},{id:6,nombre:"Elegir Dominio",estado:!1,proyectoId:2},{id:7,nombre:"Elegir Maquina Virtual",estado:!0,proyectoId:3},{id:8,nombre:"Elegir Equipos de primera Necesidad",estado:!1,proyectoId:2},{id:9,nombre:"Elegir Maquinas de contingencia",estado:!0,proyectoId:3},{id:10,nombre:"Elegir Productos en venta",estado:!1,proyectoId:4},{id:11,nombre:"Elegir Asignacion automatica",estado:!0,proyectoId:1}],tareasProyecto:null,errorTarea:!1,tareaSeleccionada:null}),t=Object(u.a)(a,2),o=t[0],c=t[1];return n.a.createElement(O.Provider,{value:{tareas:o.tareas,tareasProyecto:o.tareasProyecto,errorTarea:o.errorTarea,tareaSeleccionada:o.tareaSeleccionada,obtenerTareas:function(e){c({type:"TAREAS_PROYECTO",payload:e})},agregarTarea:function(e){e.id=S.a.v4(),c({type:"AGREGAR_TAREA",payload:e})},validarTarea:function(){c({type:"VALIDAR_TAREA"})},eliminarTarea:function(e){c({type:"ELIMINAR_TAREA",payload:e})},cambiarEstadoTarea:function(e){c({type:"ESTADO_TAREA",payload:e})},guardarTareaActual:function(e){c({type:"TAREA_ACTUAL",payload:e})},actualizarTarea:function(e){c({type:"ACTUALIZAR_TAREA",payload:e})}}},e.children)},D=function(e,a){switch(a.type){case"MOSTRAR_ALERTA":return{alerta:a.payload};case"OCULTAR_ALERTA":return{alerta:null};default:return e}},U=function(e){var a=Object(r.useReducer)(D,{alerta:null}),t=Object(u.a)(a,2),o=t[0],c=t[1];return n.a.createElement(p.Provider,{value:{alerta:o.alerta,mostrarAlerta:function(e,a){c({type:"MOSTRAR_ALERTA",payload:{msg:e,categoria:a}}),setTimeout((function(){c({type:"OCULTAR_ALERTA"})}),3e3)}}},e.children)},G=t(14),F=t.n(G),M=t(21),Y=function(e,a){switch(a.type){case"REGISTRO_EXITOSO":return localStorage.setItem("token",a.payload.token),Object(m.a)({},e,{autenticado:!0,mensaje:null});case"LOGIN_ERROR":case"REGISTRO_ERROR":return localStorage.removeItem("token"),Object(m.a)({},e,{token:null,mensaje:a.payload});default:return e}},V=t(36),K=t.n(V).a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_BACKEND_URL}),W=function(e){e?K.defaults.headers.common["x-auth-token"]=e:delete K.defaults.headers.common["x-auth-token"]},B=function(e){var a={token:localStorage.getItem("token"),autenticado:null,usuario:null,mensaje:null},t=Object(r.useReducer)(Y,a),o=Object(u.a)(t,2),c=o[0],l=o[1],i=function(){var e=Object(M.a)(F.a.mark((function e(a){var t,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.post("/api/usuarios",a);case 3:t=e.sent,l({type:"REGISTRO_EXITOSO",payload:t.data}),s(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),r={msg:e.t0.response.data.msg,categoria:"alerta-error"},l({type:"REGISTRO_ERROR",payload:r});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}(),s=function(){var e=Object(M.a)(F.a.mark((function e(){var a,t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=localStorage.getItem("token"))&&W(a),e.prev=2,e.next=5,K.get("/api/auth");case 5:t=e.sent,console.log(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),l({type:"LOGIN_ERROR"});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return n.a.createElement(E.Provider,{value:{token:c.token,autnticado:c.autenticado,usuario:c.usuario,mensaje:c.mensaje,registrarUsuario:i}},e.children)};var H=function(){return console.log(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_BACKEND_URL),n.a.createElement(k,null,n.a.createElement(U,null,n.a.createElement(x,null,n.a.createElement(B,null,n.a.createElement(l.a,null,n.a.createElement(i.c,null,n.a.createElement(i.a,{exact:!0,path:"/",component:d}),n.a.createElement(i.a,{exact:!0,path:"/nueva-cuenta",component:b}),n.a.createElement(i.a,{exact:!0,path:"/proyectos",component:_})))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.264978ae.chunk.js.map